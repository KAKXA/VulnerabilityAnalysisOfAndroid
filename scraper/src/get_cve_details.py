from config import *
from model.db import DB
from model.cve import CVE
from scraper.src.utils.get_html import getHtml
from utils.cve_utils.convertor import cveIdIntStr2Str



def getCveDetails():
    db = DB()
    cveIds = db.selectEquals(CVE, {})
    if not os.path.exists(cveDetailsDirectory):
        os.mkdir(cveDetailsDirectory)
    for cveId in cveIds:
        getOneCveDetail(cveId)

def getOneCveDetail(cveId):
    url = cveDetailsUrl + '/' + cveId
    localPath = os.path.join(cveDetailsDirectory, cveId + '.html')
    html = getHtml(url, localPath, 'not rewrite')

if __name__ == '__main__':
    getCveDetails()

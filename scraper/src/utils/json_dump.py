import os
import json

def dumper(obj):
    try:
        return obj.toJSON()
    except:
        return obj.__dict__

def jsonDump(path, obj):
    if ~os.path.exists(path):
        with open(path, 'w') as fp:
            json.dump(fp=fp, obj=obj, default=dumper, sort_keys=True, indent=4, separators=(',', ':'))
        print('Dump succeed to: ' + path)
        return True
    else:
        print('Dump fail. Because JSON file already exists')
        return False
        
def jsonDumpNew(path, objs):
    res = []
    with open(path, 'w') as fp:
        for obj in objs:
            res.append(obj.toJson())
        fp.write('[' + ',\n'.join(res) + ']')

import bs4
from config import referencePrefix

def referencesHandler(td: bs4.element.Tag) -> list:
    refs = []
    ref = ''
    tdText = td.getText()
    if tdText and tdText.strip():
        tmpPrefix = tdText.split('-')[0].upper()
        if tmpPrefix in referencePrefix:
            ref = tmpPrefix

    for a in td.find_all('a', href=True):
        aText = a.getText()
        if aText and aText.strip():
            tmpPrefix = aText.split('-')[0].upper()
            if tmpPrefix in referencePrefix:
                ref = tmpPrefix
        href = a['href']
        if ref and href and href != '#asterisk':
            refs.append([ref, href])

    return refs